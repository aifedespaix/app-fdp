<ng-container *ngIf="authService.user then logged else notLogged"></ng-container>

<ng-template #logged>

  <button
    class="profile"
    mat-button mat-mini-fab
    [matMenuTriggerFor]="userActions">
  </button>

  <mat-menu #userActions="matMenu">
    <button
      mat-menu-item
      (click)="authService.logout()"
    >
      <mat-icon>person</mat-icon>
      Profil
    </button>
    <button
      mat-menu-item
      (click)="authService.logout()"
    >
      <mat-icon>exit_to_app</mat-icon>
      Se deconnecter
    </button>
  </mat-menu>

</ng-template>

<ng-template #notLogged>
  <button
    mat-icon-button
    [matMenuTriggerFor]="menu"
    aria-label="Changer de theme"
  >
    <mat-icon>person</mat-icon>
  </button>

  <mat-menu #menu="matMenu">

    <button
      mat-menu-item
      (click)="authenticate(false)"
    >
      <mat-icon>person</mat-icon>
      <span>Connection</span>
    </button>

    <button
      mat-menu-item
      (click)="authenticate(true)"
    >
      <mat-icon>person_add</mat-icon>
      <span>Inscription</span>
    </button>

  </mat-menu>

</ng-template>
